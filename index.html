<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Practice English irregular verbs with Czech translations">
  <meta name="theme-color" content="#4F46E5">
  <link rel="manifest" href="manifest.json">
  <title>Irregular Verbs Practice</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; }
    #root { min-height: 100vh; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <script>
const { useState, createElement: e } = React;

const verbs = [
  { base: "be", past: "was/were", participle: "been", cz: "být", examplePast: "I was at home yesterday.", exampleParticiple: "I have been to Paris twice." },
  { base: "become", past: "became", participle: "become", cz: "stát se", examplePast: "She became a doctor last year.", exampleParticiple: "He has become very successful." },
  { base: "begin", past: "began", participle: "begun", cz: "začít", examplePast: "The movie began at 8 PM.", exampleParticiple: "The work has begun already." },
  { base: "break", past: "broke", participle: "broken", cz: "zlomit/rozbít", examplePast: "He broke his arm playing football.", exampleParticiple: "The window has been broken." },
  { base: "bring", past: "brought", participle: "brought", cz: "přinést", examplePast: "I brought some snacks to the party.", exampleParticiple: "She has brought good news." },
  { base: "build", past: "built", participle: "built", cz: "stavět/postavit", examplePast: "They built a new house in 2020.", exampleParticiple: "The bridge has been built recently." },
  { base: "buy", past: "bought", participle: "bought", cz: "koupit", examplePast: "She bought a new car yesterday.", exampleParticiple: "I have bought tickets online." },
  { base: "choose", past: "chose", participle: "chosen", cz: "vybrat", examplePast: "We chose the blue one.", exampleParticiple: "The winner has been chosen." },
  { base: "come", past: "came", participle: "come", cz: "přijít/přijet", examplePast: "They came to visit us last week.", exampleParticiple: "Spring has come early this year." },
  { base: "cut", past: "cut", participle: "cut", cz: "řezat", examplePast: "I cut the paper with scissors.", exampleParticiple: "The grass has been cut." },
  { base: "do", past: "did", participle: "done", cz: "dělat", examplePast: "I did my homework this morning.", exampleParticiple: "The work has been done well." },
  { base: "drink", past: "drank", participle: "drunk", cz: "pít", examplePast: "We drank coffee after dinner.", exampleParticiple: "I have drunk too much water." },
  { base: "drive", past: "drove", participle: "driven", cz: "řídit", examplePast: "He drove to work yesterday.", exampleParticiple: "She has driven this route before." },
  { base: "eat", past: "ate", participle: "eaten", cz: "jíst", examplePast: "We ate pizza for lunch.", exampleParticiple: "I have eaten sushi many times." },
  { base: "find", past: "found", participle: "found", cz: "najít", examplePast: "She found her keys under the sofa.", exampleParticiple: "The solution has been found." },
  { base: "fly", past: "flew", participle: "flown", cz: "létat", examplePast: "The bird flew away quickly.", exampleParticiple: "I have flown to London twice." },
  { base: "forget", past: "forgot", participle: "forgotten", cz: "zapomenout", examplePast: "I forgot to call you yesterday.", exampleParticiple: "Your birthday hasn't been forgotten." },
  { base: "get", past: "got", participle: "gotten", cz: "dostat", examplePast: "I got a gift for my birthday.", exampleParticiple: "She has gotten better at English." },
  { base: "give", past: "gave", participle: "given", cz: "dát", examplePast: "He gave me a book last week.", exampleParticiple: "I have given her my number." },
  { base: "go", past: "went", participle: "gone", cz: "jít/jet", examplePast: "We went to the beach yesterday.", exampleParticiple: "They have gone to Spain." },
  { base: "have", past: "had", participle: "had", cz: "mít", examplePast: "I had a great time at the party.", exampleParticiple: "We have had this car for years." },
  { base: "hear", past: "heard", participle: "heard", cz: "slyšet", examplePast: "Did you hear that noise?", exampleParticiple: "I have heard this song before." },
  { base: "know", past: "knew", participle: "known", cz: "znát/vědět", examplePast: "I knew the answer immediately.", exampleParticiple: "I have known her for years." },
  { base: "learn", past: "learned/learnt", participle: "learned/learnt", cz: "učit se", examplePast: "She learned English in London.", exampleParticiple: "I have learned a lot today." },
  { base: "leave", past: "left", participle: "left", cz: "odejít", examplePast: "They left the party early.", exampleParticiple: "He has left the country." },
  { base: "lose", past: "lost", participle: "lost", cz: "ztratit", examplePast: "He lost his wallet on the train.", exampleParticiple: "I have lost my keys again." },
  { base: "make", past: "made", participle: "made", cz: "dělat/vyrábět", examplePast: "I made dinner for my family.", exampleParticiple: "This cake was made yesterday." },
  { base: "mean", past: "meant", participle: "meant", cz: "znamenat", examplePast: "What did you mean by that?", exampleParticiple: "I have always meant to call you." },
  { base: "meet", past: "met", participle: "met", cz: "potkat", examplePast: "We met our friends at the café.", exampleParticiple: "I have met him several times." },
  { base: "pay", past: "paid", participle: "paid", cz: "platit", examplePast: "She paid for the tickets.", exampleParticiple: "The bill has been paid." },
  { base: "put", past: "put", participle: "put", cz: "dát/položit", examplePast: "I put the book on the table.", exampleParticiple: "The documents have been put away." },
  { base: "quit", past: "quit", participle: "quit", cz: "skončit", examplePast: "He quit his job last month.", exampleParticiple: "She has quit smoking." },
  { base: "read", past: "read", participle: "read", cz: "číst", examplePast: "I read that book last summer.", exampleParticiple: "I have read all his novels." },
  { base: "say", past: "said", participle: "said", cz: "říct", examplePast: "She said goodbye before leaving.", exampleParticiple: "Everything has been said." },
  { base: "see", past: "saw", participle: "seen", cz: "vidět", examplePast: "Did you see that movie?", exampleParticiple: "I have seen this film before." },
  { base: "sell", past: "sold", participle: "sold", cz: "prodat", examplePast: "They sold their car yesterday.", exampleParticiple: "The house has been sold." },
  { base: "send", past: "sent", participle: "sent", cz: "poslat", examplePast: "I sent you an email this morning.", exampleParticiple: "The package has been sent." },
  { base: "set", past: "set", participle: "set", cz: "nastavit", examplePast: "She set the alarm for 6 AM.", exampleParticiple: "The table has been set for dinner." },
  { base: "shine", past: "shone", participle: "shone", cz: "svítit", examplePast: "The sun shone brightly yesterday.", exampleParticiple: "The stars have shone all night." },
  { base: "sleep", past: "slept", participle: "slept", cz: "spát", examplePast: "I slept for 8 hours last night.", exampleParticiple: "I haven't slept well lately." },
  { base: "speak", past: "spoke", participle: "spoken", cz: "mluvit", examplePast: "He spoke English very well.", exampleParticiple: "I have spoken to the manager." },
  { base: "spend", past: "spent", participle: "spent", cz: "utratit/strávit", examplePast: "We spent the weekend in Prague.", exampleParticiple: "I have spent all my money." },
  { base: "steal", past: "stole", participle: "stolen", cz: "krást", examplePast: "Someone stole my bicycle.", exampleParticiple: "My phone has been stolen." },
  { base: "take", past: "took", participle: "taken", cz: "vzít/brát", examplePast: "She took the bus to work.", exampleParticiple: "The photo was taken yesterday." },
  { base: "teach", past: "taught", participle: "taught", cz: "učit", examplePast: "My father taught me how to swim.", exampleParticiple: "I have taught English for 5 years." },
  { base: "tell", past: "told", participle: "told", cz: "říct/říkat", examplePast: "He told me an interesting story.", exampleParticiple: "I have told you everything." },
  { base: "think", past: "thought", participle: "thought", cz: "myslet", examplePast: "I thought about you yesterday.", exampleParticiple: "I have thought about this a lot." },
  { base: "throw", past: "threw", participle: "thrown", cz: "házet/hodit", examplePast: "He threw the ball to his friend.", exampleParticiple: "The ball has been thrown away." },
  { base: "understand", past: "understood", participle: "understood", cz: "rozumět", examplePast: "I understood the lesson clearly.", exampleParticiple: "I have understood the problem now." },
  { base: "wake up", past: "woke up", participle: "woken up", cz: "vzbudit se", examplePast: "I woke up at 7 AM this morning.", exampleParticiple: "I have woken up early today." },
  { base: "win", past: "won", participle: "won", cz: "vyhrát", examplePast: "Our team won the match yesterday.", exampleParticiple: "We have won three games this month." },
  { base: "write", past: "wrote", participle: "written", cz: "psát", examplePast: "She wrote a letter to her friend.", exampleParticiple: "The book has been written." }
];

function App() {
  const [mode, setMode] = useState('study');
  const [currentIndex, setCurrentIndex] = useState(0);
  const [showAnswer, setShowAnswer] = useState(false);
  const [quizAnswers, setQuizAnswers] = useState({ past: '', participle: '' });
  const [score, setScore] = useState({ correct: 0, total: 0 });
  const [feedback, setFeedback] = useState(null);
  const [usedVerbs, setUsedVerbs] = useState([]);
  const [examplesAtEnd, setExamplesAtEnd] = useState(false);

  const currentVerb = mode === 'quiz' && usedVerbs.length > 0 
    ? verbs[usedVerbs[currentIndex]] 
    : verbs[currentIndex];

  const speak = (text) => {
    if ('speechSynthesis' in window) {
      window.speechSynthesis.cancel();
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'en-US';
      utterance.rate = 0.8;
      window.speechSynthesis.speak(utterance);
    }
  };

  const getRandomVerb = () => {
    if (usedVerbs.length === verbs.length) {
      setUsedVerbs([]);
      return 0;
    }
    let randomIndex;
    do {
      randomIndex = Math.floor(Math.random() * verbs.length);
    } while (usedVerbs.includes(randomIndex));
    return randomIndex;
  };

  const startQuiz = () => {
    setMode('quiz');
    const firstVerb = getRandomVerb();
    setUsedVerbs([firstVerb]);
    setCurrentIndex(0);
    setQuizAnswers({ past: '', participle: '' });
    setScore({ correct: 0, total: 0 });
    setFeedback(null);
  };

  const checkAnswer = () => {
    const verb = verbs[usedVerbs[currentIndex]];
    const pastCorrect = quizAnswers.past.trim().toLowerCase() === verb.past.toLowerCase();
    const participleCorrect = quizAnswers.participle.trim().toLowerCase() === verb.participle.toLowerCase();
    const isCorrect = pastCorrect && participleCorrect;

    setFeedback({
      correct: isCorrect,
      pastCorrect,
      participleCorrect,
      correctPast: verb.past,
      correctParticiple: verb.participle
    });

    setScore(prev => ({
      correct: prev.correct + (isCorrect ? 1 : 0),
      total: prev.total + 1
    }));
  };

  const nextVerb = () => {
    if (mode === 'study') {
      setCurrentIndex((prev) => (prev + 1) % verbs.length);
      setShowAnswer(false);
    } else {
      const nextVerbIndex = getRandomVerb();
      setUsedVerbs(prev => [...prev, nextVerbIndex]);
      setCurrentIndex(prev => prev + 1);
      setQuizAnswers({ past: '', participle: '' });
      setFeedback(null);
    }
  };

  const previousVerb = () => {
    if (mode === 'study') {
      setCurrentIndex((prev) => (prev - 1 + verbs.length) % verbs.length);
      setShowAnswer(false);
    }
  };

  const resetQuiz = () => {
    setMode('study');
    setCurrentIndex(0);
    setShowAnswer(false);
    setQuizAnswers({ past: '', participle: '' });
    setScore({ correct: 0, total: 0 });
    setFeedback(null);
    setUsedVerbs([]);
  };

  return e('div', { className: 'min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6' },
    e('div', { className: 'max-w-2xl mx-auto' },
      e('div', { className: 'bg-white rounded-2xl shadow-xl p-8 mb-6' },
        e('div', { className: 'flex items-center justify-between mb-6' },
          e('h1', { className: 'text-3xl font-bold text-indigo-900' }, '📚 Irregular Verbs Practice'),
          mode === 'quiz' && e('div', { className: 'bg-indigo-100 px-4 py-2 rounded-lg' },
            e('span', { className: 'font-semibold text-indigo-900' }, '🏆 ' + score.correct + '/' + score.total)
          )
        ),
        
        e('div', { className: 'flex gap-3 mb-8' },
          e('button', {
            onClick: () => mode === 'quiz' ? resetQuiz() : null,
            disabled: mode === 'study',
            className: 'flex-1 py-3 px-6 rounded-lg font-semibold transition ' + 
              (mode === 'study' ? 'bg-indigo-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300')
          }, 'Study Mode'),
          e('button', {
            onClick: startQuiz,
            disabled: mode === 'quiz',
            className: 'flex-1 py-3 px-6 rounded-lg font-semibold transition ' +
              (mode === 'quiz' ? 'bg-green-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300')
          }, 'Quiz Mode')
        ),

        mode === 'study' && e('div', { className: 'mb-6 flex items-center justify-center gap-2 text-sm' },
          e('span', { className: 'text-gray-600' }, 'Examples:'),
          e('button', {
            onClick: () => setExamplesAtEnd(false),
            className: 'px-4 py-2 rounded-lg font-medium transition ' +
              (!examplesAtEnd ? 'bg-indigo-100 text-indigo-700' : 'bg-gray-100 text-gray-600 hover:bg-gray-200')
          }, 'Inline'),
          e('button', {
            onClick: () => setExamplesAtEnd(true),
            className: 'px-4 py-2 rounded-lg font-medium transition ' +
              (examplesAtEnd ? 'bg-indigo-100 text-indigo-700' : 'bg-gray-100 text-gray-600 hover:bg-gray-200')
          }, 'At End')
        ),

        mode === 'study' ? 
          e('div', { className: 'space-y-6' },
            e('div', { className: 'text-center' },
              e('p', { className: 'text-sm text-gray-500 mb-2' }, 
                'Verb ' + (currentIndex + 1) + ' of ' + verbs.length),
              e('div', { className: 'bg-indigo-50 rounded-lg p-6 mb-4' },
                e('p', { className: 'text-sm text-indigo-600 font-medium mb-2' }, 'Infinitive'),
                e('div', { className: 'flex items-center justify-center gap-3 mb-3' },
                  e('p', { className: 'text-4xl font-bold text-indigo-900' }, currentVerb.base),
                  e('button', {
                    onClick: () => speak(currentVerb.base),
                    className: 'text-2xl hover:scale-110 transition-transform',
                    title: 'Listen to pronunciation'
                  }, '🔊')
                ),
                e('p', { className: 'text-lg text-gray-600 italic' }, currentVerb.cz)
              )
            ),
            
            !showAnswer ?
              e('button', {
                onClick: () => setShowAnswer(true),
                className: 'w-full py-4 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition'
              }, 'Show Forms') :
              e('div', { className: 'space-y-4' },
                e('div', { className: 'bg-green-50 rounded-lg p-4' },
                  e('div', { className: 'flex items-center justify-between mb-1' },
                    e('p', { className: 'text-sm text-green-700 font-medium' }, 'Past Simple'),
                    e('button', {
                      onClick: () => speak(currentVerb.past),
                      className: 'text-xl hover:scale-110 transition-transform',
                      title: 'Listen to pronunciation'
                    }, '🔊')
                  ),
                  e('p', { className: 'text-2xl font-bold text-green-900 mb-3' }, currentVerb.past),
                  !examplesAtEnd && e('div', { className: 'bg-white rounded p-2 border-l-2 border-green-500' },
                    e('div', { className: 'flex items-center justify-between' },
                      e('p', { className: 'text-sm text-gray-700 italic' }, currentVerb.examplePast),
                      e('button', {
                        onClick: () => speak(currentVerb.examplePast),
                        className: 'text-base hover:scale-110 transition-transform ml-2',
                        title: 'Listen to example'
                      }, '🔊')
                    )
                  )
                ),
                e('div', { className: 'bg-blue-50 rounded-lg p-4' },
                  e('div', { className: 'flex items-center justify-between mb-1' },
                    e('p', { className: 'text-sm text-blue-700 font-medium' }, 'Past Participle'),
                    e('button', {
                      onClick: () => speak(currentVerb.participle),
                      className: 'text-xl hover:scale-110 transition-transform',
                      title: 'Listen to pronunciation'
                    }, '🔊')
                  ),
                  e('p', { className: 'text-2xl font-bold text-blue-900 mb-3' }, currentVerb.participle),
                  !examplesAtEnd && e('div', { className: 'bg-white rounded p-2 border-l-2 border-blue-500' },
                    e('div', { className: 'flex items-center justify-between' },
                      e('p', { className: 'text-sm text-gray-700 italic' }, currentVerb.exampleParticiple),
                      e('button', {
                        onClick: () => speak(currentVerb.exampleParticiple),
                        className: 'text-base hover:scale-110 transition-transform ml-2',
                        title: 'Listen to example'
                      }, '🔊')
                    )
                  )
                ),
                examplesAtEnd && e('div', { className: 'bg-amber-50 rounded-lg p-4 border-l-4 border-amber-500' },
                  e('p', { className: 'text-sm text-amber-700 font-medium mb-3' }, '💡 Examples:'),
                  e('div', { className: 'space-y-3' },
                    e('div', { className: 'bg-white rounded p-3' },
                      e('p', { className: 'text-xs text-green-700 font-medium mb-1' }, 'Past Simple:'),
                      e('div', { className: 'flex items-center justify-between' },
                        e('p', { className: 'text-sm text-gray-800 italic' }, currentVerb.examplePast),
                        e('button', {
                          onClick: () => speak(currentVerb.examplePast),
                          className: 'text-base hover:scale-110 transition-transform ml-2',
                          title: 'Listen to example'
                        }, '🔊')
                      )
                    ),
                    e('div', { className: 'bg-white rounded p-3' },
                      e('p', { className: 'text-xs text-blue-700 font-medium mb-1' }, 'Past Participle:'),
                      e('div', { className: 'flex items-center justify-between' },
                        e('p', { className: 'text-sm text-gray-800 italic' }, currentVerb.exampleParticiple),
                        e('button', {
                          onClick: () => speak(currentVerb.exampleParticiple),
                          className: 'text-base hover:scale-110 transition-transform ml-2',
                          title: 'Listen to example'
                        }, '🔊')
                      )
                    )
                  )
                )
              ),
            
            e('div', { className: 'flex gap-3 mt-6' },
              e('button', {
                onClick: previousVerb,
                className: 'flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition'
              }, 'Previous'),
              e('button', {
                onClick: nextVerb,
                className: 'flex-1 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition'
              }, 'Next')
            )
          ) :
          
          e('div', { className: 'space-y-6' },
            e('div', { className: 'text-center' },
              e('p', { className: 'text-sm text-gray-500 mb-2' }, 'Question ' + (currentIndex + 1)),
              e('div', { className: 'bg-indigo-50 rounded-lg p-6 mb-4' },
                e('p', { className: 'text-sm text-indigo-600 font-medium mb-2' }, 'Infinitive'),
                e('div', { className: 'flex items-center justify-center gap-3 mb-3' },
                  e('p', { className: 'text-4xl font-bold text-indigo-900' }, currentVerb.base),
                  e('button', {
                    onClick: () => speak(currentVerb.base),
                    className: 'text-2xl hover:scale-110 transition-transform',
                    title: 'Listen to pronunciation'
                  }, '🔊')
                ),
                e('p', { className: 'text-lg text-gray-600 italic' }, currentVerb.cz)
              )
            ),
            
            !feedback ?
              e('div', { className: 'space-y-4' },
                e('div', null,
                  e('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'Past Simple'),
                  e('input', {
                    type: 'text',
                    value: quizAnswers.past,
                    onChange: (ev) => setQuizAnswers({ ...quizAnswers, past: ev.target.value }),
                    className: 'w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none text-lg',
                    placeholder: 'Enter past simple form'
                  })
                ),
                e('div', null,
                  e('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'Past Participle'),
                  e('input', {
                    type: 'text',
                    value: quizAnswers.participle,
                    onChange: (ev) => setQuizAnswers({ ...quizAnswers, participle: ev.target.value }),
                    className: 'w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none text-lg',
                    placeholder: 'Enter past participle form'
                  })
                ),
                e('button', {
                  onClick: checkAnswer,
                  disabled: !quizAnswers.past || !quizAnswers.participle,
                  className: 'w-full py-4 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:bg-gray-300 disabled:cursor-not-allowed'
                }, 'Check Answer')
              ) :
              
              e('div', { className: 'space-y-4' },
                e('div', { className: 'rounded-lg p-6 ' + (feedback.correct ? 'bg-green-100' : 'bg-red-100') },
                  e('div', { className: 'mb-4' },
                    e('span', { className: 'text-xl font-bold ' + (feedback.correct ? 'text-green-900' : 'text-red-900') },
                      feedback.correct ? '✓ Correct!' : '✗ Not quite'
                    )
                  ),
                  !feedback.correct && e('div', { className: 'space-y-3' },
                    e('div', { className: 'p-3 rounded ' + (feedback.pastCorrect ? 'bg-green-50' : 'bg-red-50') },
                      e('p', { className: 'text-sm font-medium mb-1' }, 'Past Simple:'),
                      e('p', { className: 'font-semibold' }, feedback.correctPast)
                    ),
                    e('div', { className: 'p-3 rounded ' + (feedback.participleCorrect ? 'bg-green-50' : 'bg-red-50') },
                      e('p', { className: 'text-sm font-medium mb-1' }, 'Past Participle:'),
                      e('p', { className: 'font-semibold' }, feedback.correctParticiple)
                    )
                  )
                ),
                e('div', { className: 'flex gap-3' },
                  e('button', {
                    onClick: resetQuiz,
                    className: 'px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition'
                  }, '↺ Reset'),
                  e('button', {
                    onClick: nextVerb,
                    className: 'flex-1 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition'
                  }, 'Next Verb')
                )
              )
          )
      ),
      
      e('div', { className: 'bg-white rounded-lg shadow-md p-4 text-center text-sm text-gray-600' },
        e('p', null, 'Total verbs in database: ' + verbs.length)
      )
    )
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(e(App));
  </script>
  
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('sw.js')
          .then(function(reg) { console.log('SW registered'); })
          .catch(function(err) { console.log('SW failed', err); });
      });
    }
  </script>
</body>
</html>